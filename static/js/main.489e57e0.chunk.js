(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{24:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(18),s=c.n(a),i=(c(24),c(6)),o=r.a.createContext({city:null,country:null}),l=c(5),d=c(0);var x=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useContext)(o),s=a.city,x=a.country,u="https://api.openweathermap.org/data/2.5/weather?q=".concat(s,",").concat(x,",&APPID=").concat(l.API_KEY,"&units=metric");return Object(n.useEffect)((function(){fetch(u).then((function(e){return e.json()})).then((function(e){r({icon:"wi-owm-"+e.weather[0].id,temperature:e.main.temp,humidity:e.main.humidity,description:e.weather[0].description,wind:e.wind.speed,preasure:e.main.pressure,city:e.name,country:e.sys.country,error:null})})).catch((function(e){return console.log(e)}))}),[]),c?Object(d.jsxs)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-2xl",children:[Object(d.jsxs)("p",{className:"text-center text-2xl font-bold uppercase",children:[c.city,", ",c.country]}),Object(d.jsxs)("div",{className:"flex mt-8",children:[Object(d.jsx)("div",{className:"flex-auto text-center",children:Object(d.jsx)("i",{className:"wi "+c.icon+" text-white text-9xl"})}),Object(d.jsxs)("div",{className:"flex-auto text-center",children:[Object(d.jsx)("p",{className:"text-xl uppercase",children:"today"}),Object(d.jsx)("p",{className:"text-xl capitalize",children:c.description}),Object(d.jsxs)("p",{className:"text-xl",children:[c.temperature," \xb0C"]}),Object(d.jsxs)("p",{className:"text-xl",children:[c.preasure," hPa"]})]})]})]}):Object(d.jsx)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-xl text-center",children:Object(d.jsx)("p",{children:"No se pudo recuperar datos del clima"})})},u=c(8),j=c.n(u),h=c(19),p=c(9),b=c.n(p);var m=function(){var e=function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://geolocation-db.com/json/").then((function(e){b.a.get("http://api.openweathermap.org/data/2.5/weather?lat="+e.data.latitude+"&lon="+e.data.longitude+"&APPID=5b6d7711e2a98068bef12e795b6c97f5").then((function(e){console.log(e.data)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-2xl",children:Object(d.jsxs)("ul",{className:"text-center",children:[Object(d.jsx)("li",{className:"cursor-pointer",onClick:function(){e()},children:"Current location"}),Object(d.jsx)("li",{className:"cursor-pointer",onClick:function(){alert("xxx")},children:"Londres"}),Object(d.jsx)("li",{className:"cursor-pointer",onClick:function(){alert("xxx")},children:"Par\xeds"}),Object(d.jsx)("li",{className:"cursor-pointer",onClick:function(){alert("xxx")},children:"Tokio"}),Object(d.jsx)("li",{className:"cursor-pointer",onClick:function(){alert("xxx")},children:"Mil\xe1n"}),Object(d.jsx)("li",{className:"cursor-pointer",onClick:function(){alert("xxx")},children:"Mosc\xfa"})]})})};var f=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useContext)(o),s=a.city,x=a.country,u="https://api.openweathermap.org/data/2.5/forecast?q=".concat(s,",").concat(x,",&APPID=").concat(l.API_KEY,"&cnt=5&units=metric");return Object(n.useEffect)((function(){fetch(u).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){return console.log(e)}))}),[]),c.list?Object(d.jsx)("div",{className:"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white",children:Object(d.jsx)("div",{className:"flex",children:c.list.map((function(e){return Object(d.jsxs)("div",{className:"flex-auto text-center",children:[Object(d.jsx)("p",{children:e.dt_txt}),Object(d.jsx)("i",{className:"wi wi-owm-"+e.weather[0].id+" text-white text-6xl my-4"}),Object(d.jsx)("p",{children:e.weather[0].description}),Object(d.jsxs)("p",{children:[e.main.temp," \xb0C"]}),Object(d.jsxs)("p",{children:[e.main.pressure," hPa"]})]},e.dt.toString())}))})}):Object(d.jsx)("div",{className:"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-center",children:Object(d.jsx)("p",{children:"No se pudo recuperar datos del clima"})})};var O=function(){return Object(d.jsx)(o.Provider,{value:{city:"moscow",country:"ru"},children:Object(d.jsxs)("div",{className:"container mx-auto lg:w-1/2",children:[Object(d.jsx)("h1",{className:"my-10 text-center text-white font-bold text-5xl",children:"WEATHER-APP"}),Object(d.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[Object(d.jsx)(x,{}),Object(d.jsx)(m,{}),Object(d.jsx)(f,{})]})]})})};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root"))},5:function(e,t){e.exports={API_KEY:"5b6d7711e2a98068bef12e795b6c97f5"}}},[[45,1,2]]]);
//# sourceMappingURL=main.489e57e0.chunk.js.map