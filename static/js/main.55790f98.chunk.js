(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{24:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(18),s=c.n(a),i=(c(24),c(8)),o=c.n(i),l=c(19),d=c(3),u=r.a.createContext({city:null,country:null}),x=c(6),j=c(0);var b=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!0),s=Object(d.a)(a,2),i=s[0],o=s[1],l=Object(n.useContext)(u),b=l.city,p=l.country,h="https://api.openweathermap.org/data/2.5/weather?q=".concat(b,",").concat(p,",&APPID=").concat(x.API_KEY,"&units=metric");return Object(n.useEffect)((function(){fetch(h).then((function(e){return e.json()})).then((function(e){r({icon:"wi-owm-"+e.weather[0].id,temperature:e.main.temp,humidity:e.main.humidity,description:e.weather[0].description,wind:e.wind.speed,preasure:e.main.pressure,city:e.name,country:e.sys.country,error:null}),o(!1)})).catch((function(e){return console.log(e)}))})),i?Object(j.jsx)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-xl text-center",children:"Loading..."}):c?Object(j.jsxs)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-2xl",children:[Object(j.jsxs)("p",{className:"text-center text-2xl font-bold uppercase",children:[c.city,", ",c.country]}),Object(j.jsxs)("div",{className:"flex mt-8",children:[Object(j.jsx)("div",{className:"flex-auto text-center",children:Object(j.jsx)("i",{className:"wi "+c.icon+" text-white text-9xl"})}),Object(j.jsxs)("div",{className:"flex-auto text-center",children:[Object(j.jsx)("p",{className:"text-xl uppercase",children:"today"}),Object(j.jsx)("p",{className:"text-xl capitalize",children:c.description}),Object(j.jsxs)("p",{className:"text-xl",children:[c.temperature," \xb0C"]}),Object(j.jsxs)("p",{className:"text-xl",children:[c.preasure," hPa"]})]})]})]}):Object(j.jsx)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-xl text-center",children:Object(j.jsx)("p",{children:"No se pudo recuperar datos del clima"})})};var p=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!0),s=Object(d.a)(a,2),i=s[0],o=s[1],l=Object(n.useContext)(u),b=l.city,p=l.country,h="https://api.openweathermap.org/data/2.5/forecast?q=".concat(b,",").concat(p,",&APPID=").concat(x.API_KEY,"&cnt=5&units=metric");return Object(n.useEffect)((function(){fetch(h).then((function(e){return e.json()})).then((function(e){r(e),o(!1)})).catch((function(e){return console.log(e)}))})),i?Object(j.jsx)("div",{className:"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-center",children:Object(j.jsx)("p",{children:"Loading..."})}):c.list?Object(j.jsx)("div",{className:"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white",children:Object(j.jsx)("div",{className:"flex",children:c.list.map((function(e){return Object(j.jsxs)("div",{className:"flex-auto text-center",children:[Object(j.jsx)("p",{children:e.dt_txt}),Object(j.jsx)("i",{className:"wi wi-owm-"+e.weather[0].id+" text-white text-6xl my-4"}),Object(j.jsx)("p",{children:e.weather[0].description}),Object(j.jsxs)("p",{children:[e.main.temp," \xb0C"]}),Object(j.jsxs)("p",{children:[e.main.pressure," hPa"]})]},e.dt.toString())}))})}):Object(j.jsx)("div",{className:"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-center",children:Object(j.jsx)("p",{children:"No se pudo recuperar datos del clima"})})},h=c(9),m=c.n(h);var O=function(){var e=Object(n.useState)({city:"buenos aires",country:"ar"}),t=Object(d.a)(e,2),c=t[0],r=t[1],a=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://geolocation-db.com/json/").then((function(e){m.a.get("http://api.openweathermap.org/data/2.5/weather?lat="+e.data.latitude+"&lon="+e.data.longitude+"&APPID=5b6d7711e2a98068bef12e795b6c97f5").then((function(e){console.log(e.data)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(u.Provider,{value:c,children:Object(j.jsxs)("div",{className:"container mx-auto lg:w-1/2",children:[Object(j.jsx)("h1",{className:"my-10 text-center text-white font-bold text-5xl",children:"WEATHER-APP"}),Object(j.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[Object(j.jsx)(b,{}),Object(j.jsx)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-2xl",children:Object(j.jsxs)("ul",{className:"text-center",children:[Object(j.jsx)("li",{className:"cursor-pointer",onClick:function(){a()},children:"Current location"}),Object(j.jsx)("li",{className:"cursor-pointer",onClick:function(){r({city:"london",country:"uk"})},children:"Londres"}),Object(j.jsx)("li",{className:"cursor-pointer",onClick:function(){r({city:"paris",country:"fr"})},children:"Par\xeds"}),Object(j.jsx)("li",{className:"cursor-pointer",onClick:function(){r({city:"tokio",country:"jp"})},children:"Tokio"}),Object(j.jsx)("li",{className:"cursor-pointer",onClick:function(){r({city:"milan",country:"it"})},children:"Mil\xe1n"}),Object(j.jsx)("li",{className:"cursor-pointer",onClick:function(){r({city:"moscow",country:"ru"})},children:"Mosc\xfa"})]})}),Object(j.jsx)(p,{})]})]})})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root"))},6:function(e,t){e.exports={API_KEY:"5b6d7711e2a98068bef12e795b6c97f5"}}},[[45,1,2]]]);
//# sourceMappingURL=main.55790f98.chunk.js.map