(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{24:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(17),s=c.n(a),i=(c(24),c(8)),o=c.n(i),l=c(18),d=c(3),u=r.a.createContext({city:null,country:null}),j=c(6),x=c(0);var b=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!0),s=Object(d.a)(a,2),i=s[0],o=s[1],l=Object(n.useState)(!1),b=Object(d.a)(l,2),h=b[0],p=b[1],m=Object(n.useContext)(u);return Object(n.useEffect)((function(){var e="https://api.openweathermap.org/data/2.5/weather?q=".concat(m.city,",").concat(m.country,",&APPID=").concat(j.API_KEY,"&units=metric");fetch(e).then((function(e){return e.json()})).then((function(e){r({icon:"wi-owm-"+e.weather[0].id,temperature:e.main.temp,humidity:e.main.humidity,description:e.weather[0].description,wind:e.wind.speed,preasure:e.main.pressure,city:e.name,country:e.sys.country,error:null}),o(!1)})).catch((function(e){console.log(e),p(!0)}))}),[m]),i?Object(x.jsx)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-xl text-center",children:"Loading..."}):!c||h?Object(x.jsx)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-xl text-center",children:Object(x.jsx)("p",{children:"No se pudo recuperar datos del clima"})}):Object(x.jsxs)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-2xl",children:[Object(x.jsxs)("p",{className:"text-center text-2xl font-bold uppercase",children:[c.city,", ",c.country]}),Object(x.jsxs)("div",{className:"flex mt-8",children:[Object(x.jsx)("div",{className:"flex-auto text-center",children:Object(x.jsx)("i",{className:"wi "+c.icon+" text-white text-9xl"})}),Object(x.jsxs)("div",{className:"flex-auto text-center",children:[Object(x.jsx)("p",{className:"text-xl capitalize",children:c.description}),Object(x.jsxs)("p",{className:"text-xl",children:[c.temperature," \xb0C"]}),Object(x.jsxs)("p",{className:"text-xl",children:[c.preasure," hPa"]})]})]})]})};var h=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!0),s=Object(d.a)(a,2),i=s[0],o=s[1],l=Object(n.useState)(!1),b=Object(d.a)(l,2),h=b[0],p=b[1],m=Object(n.useContext)(u);return Object(n.useEffect)((function(){var e="https://api.openweathermap.org/data/2.5/forecast?q=".concat(m.city,",").concat(m.country,",&APPID=").concat(j.API_KEY,"&cnt=5&units=metric");fetch(e).then((function(e){return e.json()})).then((function(e){r(e),o(!1)})).catch((function(e){console.log(e),p(!0)}))}),[m]),i?Object(x.jsx)("div",{className:"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-center",children:Object(x.jsx)("p",{children:"Loading..."})}):!c.list||h?Object(x.jsx)("div",{className:"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-center",children:Object(x.jsx)("p",{children:"No se pudo recuperar datos del clima"})}):Object(x.jsx)("div",{className:"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white",children:Object(x.jsx)("div",{className:"flex",children:c.list.map((function(e){return Object(x.jsxs)("div",{className:"flex-auto text-center",children:[Object(x.jsx)("p",{children:e.dt_txt}),Object(x.jsx)("i",{className:"wi wi-owm-"+e.weather[0].id+" text-white text-6xl my-4"}),Object(x.jsx)("p",{children:e.weather[0].description}),Object(x.jsxs)("p",{children:[e.main.temp," \xb0C"]}),Object(x.jsxs)("p",{children:[e.main.pressure," hPa"]})]},e.dt.toString())}))})})},p=c(19),m=c.n(p);var O=function(){var e=Object(n.useState)({city:"buenos aires",country:"ar"}),t=Object(d.a)(e,2),c=t[0],r=t[1],a=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://geolocation-db.com/json/").then((function(e){r({city:e.data.city,country:e.data.country_code})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(u.Provider,{value:c,children:Object(x.jsxs)("div",{className:"container mx-auto lg:w-1/2",children:[Object(x.jsx)("h1",{className:"my-10 text-center text-white font-bold text-5xl",children:"WEATHER-APP"}),Object(x.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[Object(x.jsx)(b,{}),Object(x.jsx)("div",{className:"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-2xl",children:Object(x.jsxs)("ul",{className:"text-center",children:[Object(x.jsx)("li",{className:"cursor-pointer",onClick:function(){a()},children:"Current location"}),Object(x.jsx)("li",{className:"cursor-pointer",onClick:function(){r({city:"london",country:"uk"})},children:"Londres"}),Object(x.jsx)("li",{className:"cursor-pointer",onClick:function(){r({city:"paris",country:"fr"})},children:"Par\xeds"}),Object(x.jsx)("li",{className:"cursor-pointer",onClick:function(){r({city:"tokio",country:"jp"})},children:"Tokio"}),Object(x.jsx)("li",{className:"cursor-pointer",onClick:function(){r({city:"milan",country:"it"})},children:"Mil\xe1n"}),Object(x.jsx)("li",{className:"cursor-pointer",onClick:function(){r({city:"moscow",country:"ru"})},children:"Mosc\xfa"})]})}),Object(x.jsx)(h,{})]})]})})};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(O,{})}),document.getElementById("root"))},6:function(e,t){e.exports={API_KEY:"5b6d7711e2a98068bef12e795b6c97f5"}}},[[45,1,2]]]);
//# sourceMappingURL=main.cc95ca0b.chunk.js.map