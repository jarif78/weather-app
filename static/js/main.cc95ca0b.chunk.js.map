{"version":3,"sources":["context/UserContext.js","components/Current.jsx","components/Forecast.jsx","App.js","index.js","key.js"],"names":["UserContext","React","createContext","city","country","Current","useState","current","setCurrent","loading","setLoading","fail","setFail","location","useContext","useEffect","API_URL","API_KEY","fetch","then","response","json","data","icon","weather","id","temperature","main","temp","humidity","description","wind","speed","preasure","pressure","name","sys","error","catch","console","log","className","Forecast","list","map","item","dt_txt","dt","toString","App","setLocation","getCurrentLocation","a","axios","get","res","country_code","Provider","value","onClick","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.cc95ca0b.chunk.js","sourcesContent":["import React from 'react';\n\nconst UserContext = React.createContext({\n    city: null,\n    country: null\n});\n\nexport default UserContext;","import React, { useState, useEffect, useContext } from 'react';\nimport UserContext from '../context/UserContext';\nimport { API_KEY } from '../key';\n\nfunction Current() {\n  const [current, setCurrent] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [fail, setFail] = useState(false);\n\n  const location = useContext(UserContext);\n\n  useEffect(() => {\n    const API_URL = `https://api.openweathermap.org/data/2.5/weather?q=${location.city},${location.country},&APPID=${API_KEY}&units=metric`;\n\n    fetch(API_URL)\n      .then(response => response.json())\n      .then(data => {\n        setCurrent({\n          icon: \"wi-owm-\" + data.weather[0].id,\n          temperature: data.main.temp,\n          humidity: data.main.humidity,\n          description: data.weather[0].description,\n          wind: data.wind.speed,\n          preasure: data.main.pressure,\n          city: data.name,\n          country: data.sys.country,\n          error: null\n        });\n        setLoading(false);\n      })\n      .catch(error => {\n        console.log(error);\n        setFail(true);\n      });\n  },[location]);\n\n  if (loading) {\n    return(\n      <div className=\"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-xl text-center\">\n        Loading...\n      </div>\n    );\n  }\n\n  if (!current || fail) {\n    return(\n      <div className=\"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-xl text-center\">\n        <p>No se pudo recuperar datos del clima</p>\n      </div>\n    );\n  }\n\n  return (\n      <div className=\"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-2xl\">\n        <p className=\"text-center text-2xl font-bold uppercase\">{current.city}, {current.country}</p>\n        <div className=\"flex mt-8\">\n          <div className=\"flex-auto text-center\">\n            <i className={\"wi \" + current.icon + \" text-white text-9xl\"}></i>\n          </div>\n          <div className=\"flex-auto text-center\">\n            <p className=\"text-xl capitalize\">{current.description}</p>\n            <p className=\"text-xl\">{current.temperature} °C</p>\n            <p className=\"text-xl\">{current.preasure} hPa</p>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default Current;","import React, { useState, useEffect, useContext } from 'react';\nimport UserContext from '../context/UserContext';\nimport { API_KEY } from '../key';\n\nfunction Forecast() {\n  const [current, setCurrent] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [fail, setFail] = useState(false);\n\n  const location = useContext(UserContext);\n\n  useEffect(() => {\n    const API_URL = `https://api.openweathermap.org/data/2.5/forecast?q=${location.city},${location.country},&APPID=${API_KEY}&cnt=5&units=metric`;\n\n    fetch(API_URL)\n      .then(response => response.json())\n      .then(data => {\n        setCurrent(data);\n        setLoading(false);\n      })\n      .catch(error => {\n        console.log(error);\n        setFail(true);\n      });\n  },[location]);\n\n  if (loading) {\n    return(\n      <div className=\"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-center\">\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  if (!current.list || fail) {\n    return(\n      <div className=\"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-center\">\n        <p>No se pudo recuperar datos del clima</p>\n      </div>\n    );\n  }\n\n  return(\n    <div className=\"col-span-2 box-border py-8 w-full rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white\">\n      <div className=\"flex\">\n\n      {current.list.map(item => {\n          return(\n            <div className=\"flex-auto text-center\" key={item.dt.toString()}>\n              <p>{item.dt_txt}</p>\n              <i className={\"wi wi-owm-\"+item.weather[0].id+\" text-white text-6xl my-4\"}></i>\n              <p>{item.weather[0].description}</p>\n              <p>{item.main.temp} °C</p>\n              <p>{item.main.pressure} hPa</p>\n            </div>\n          );\n        })}\n\n      </div>\n    </div>\n  );\n}\n\nexport default Forecast;","import React, { useState } from 'react';\nimport Current from './components/Current';\nimport Forecast from './components/Forecast';\nimport UserContext from './context/UserContext';\nimport axios from 'axios';\n\nfunction App() {\n  const [location, setLocation] = useState({\n    city: 'buenos aires',\n    country: 'ar'\n  });\n\n  const getCurrentLocation = async () => {\n    await axios.get('https://geolocation-db.com/json/')\n        .then((res) => {\n          setLocation({\n            city: res.data.city,\n            country: res.data.country_code\n          });\n        });\n  }\n\n  const handleCurrent = () => {\n      getCurrentLocation();\n  }\n\n  const handleLondon = () => {\n    setLocation({\n      city: 'london',\n      country: 'uk'\n    })\n  }\n\n  const handleParis = () => {\n    setLocation({\n      city: 'paris',\n      country: 'fr'\n    })\n  }\n\n  const handleTokio = () => {\n    setLocation({\n      city: 'tokio',\n      country: 'jp'\n    })\n  }\n\n  const handleMilan = () => {\n    setLocation({\n      city: 'milan',\n      country: 'it'\n    })\n  }\n\n  const handleMoscow = () => {\n    setLocation({\n      city: 'moscow',\n      country: 'ru'\n    })\n  }\n\n  return (\n    <UserContext.Provider value = { location }>\n      <div className=\"container mx-auto lg:w-1/2\">\n        <h1 className=\"my-10 text-center text-white font-bold text-5xl\">WEATHER-APP</h1>\n        <div className=\"grid grid-cols-2 gap-8\">\n          <Current />\n          \n          <div className=\"box-border w-full p-8 rounded-md shadow-lg bg-gray-500 bg-opacity-25 text-white text-2xl\">\n            <ul className=\"text-center\">\n              <li className=\"cursor-pointer\" onClick={handleCurrent}>Current location</li>\n              <li className=\"cursor-pointer\" onClick={handleLondon}>Londres</li>\n              <li className=\"cursor-pointer\" onClick={handleParis}>París</li>\n              <li className=\"cursor-pointer\" onClick={handleTokio}>Tokio</li>\n              <li className=\"cursor-pointer\" onClick={handleMilan}>Milán</li>\n              <li className=\"cursor-pointer\" onClick={handleMoscow}>Moscú</li>\n            </ul>\n          </div>\n\n          <Forecast />\n        </div>\n      </div>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = {\n    API_KEY: '5b6d7711e2a98068bef12e795b6c97f5'\n}"],"sourceRoot":""}